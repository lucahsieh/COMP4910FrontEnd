function _defineProperties(l,n){for(var e=0;e<n.length;e++){var u=n[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{X84B:function(l,n,e){"use strict";e.r(n);var u,t=e("8Y7J"),i=function l(){_classCallCheck(this,l)},a=e("pMnS"),r=e("atuK"),s=e("MdoF"),o=e("ZRSf"),c=e("qIuG"),b=e("SVse"),p=e("iInd"),d=e("hhfa"),m=function(){function l(n,e){_classCallCheck(this,l),this.timesheetService=n,this.authenticationService=e,this.timesheets=null}return _createClass(l,[{key:"ngOnInit",value:function(){this.cols=[{field:"weekNumber",header:"Week"},{field:"versionNumber",header:"Version"},{field:"weekEndingIn",header:"week Ending"},{field:"status",header:"Status"}],this.populateTimesheets()}},{key:"populateTimesheets",value:function(){var l=this;this.timesheetService.getAllTimesheet(this.authenticationService.currentUserValue.employeeId).subscribe((function(n){l.timesheets=n,console.log(n)}))}},{key:"dataReady",value:function(){return null!==this.timesheets}},{key:"colorStatus",value:function(l){switch(l){case"Approved":return"badge badge-success";case"Rejected":return"badge badge-danger";case"Pending":return"badge badge-warning";case"Inprogress":return"badge badge-info"}}}]),l}(),h=e("IheW"),g=e("AytR"),f=e("LRne"),v=e("JIr8"),x=e("v5Pt"),w=((u=function(){function l(n,e){_classCallCheck(this,l),this.http=n,this.messageService=e,this.baseUrl=g.a.apiUrl,this.httpOptions={headers:new h.g({"Content-Type":"application/json"})}}return _createClass(l,[{key:"postTimesheet",value:function(l){return this.http.post(this.baseUrl+"api/timesheets",l,this.httpOptions).pipe(Object(v.a)(this.handleError("postProject",l)))}},{key:"putTimesheet",value:function(l){return this.http.put(this.baseUrl+"api/timesheets/".concat(l.timesheetId),l,this.httpOptions).pipe(Object(v.a)(this.handleError("putProject",l)))}},{key:"getTimesheet",value:function(l){return this.http.get(this.baseUrl+"api/timesheets/".concat(l),this.httpOptions).pipe()}},{key:"getPendingTimesheets",value:function(l){return this.http.get(this.baseUrl+"api/timesheets/getAllPendingTimesheet/".concat(l),this.httpOptions).pipe()}},{key:"getAvaliableTimesheetId",value:function(){return this.http.get(this.baseUrl+"api/timesheets/availableTimesheetId",this.httpOptions).pipe()}},{key:"getAllTimesheet",value:function(l){return this.http.get(this.baseUrl+"api/Timesheets/GetTimesheetsByEmpId/".concat(l),this.httpOptions).pipe()}},{key:"handleError",value:function(){var l=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",e=arguments.length>1?arguments[1]:void 0;return function(u){return console.error(u),l.alertUser("".concat(n," failed: ").concat(u.message)),Object(f.a)(e)}}},{key:"alertUser",value:function(l){}}]),l}()).ngInjectableDef=t.Xb({factory:function(){return new u(t.Yb(h.c),t.Yb(x.a))},token:u,providedIn:"root"}),u),y=e("kqVJ"),k=t.vb({encapsulation:0,styles:[[""]],data:{}});function T(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,4,"th",[],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,1).onClick(e)&&u),"keydown.enter"===n&&(u=!1!==t.Jb(l,1).onEnterKey(e)&&u),u}),null,null)),t.wb(1,212992,null,0,o.g,[o.h],{field:[0,"field"]},null),(l()(),t.Rb(2,null,[" "," "])),(l()(),t.xb(3,0,null,null,1,"p-sortIcon",[["ariaLabel","Activate to sort"],["ariaLabelAsc","Activate to sort in ascending order"],["ariaLabelDesc","Activate to sort in descending order"]],null,null,null,c.e,c.b)),t.wb(4,245760,null,0,o.f,[o.h],{field:[0,"field"]},null)],(function(l,n){l(n,1,0,n.context.$implicit.field),l(n,4,0,n.context.$implicit.field)}),(function(l,n){l(n,0,0,t.Jb(n,1).isEnabled(),t.Jb(n,1).sorted,t.Jb(n,1).isEnabled()?"0":null),l(n,2,0,n.context.$implicit.header)}))}function I(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,T)),t.wb(2,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(3,0,null,null,0,"th",[],null,null,null,null,null))],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function C(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"button",[["class","btn btn-link btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,1).onClick()&&u),u}),null,null)),t.wb(1,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),t.Kb(2,2),(l()(),t.Rb(-1,null,["Edit"]))],(function(l,n){var e=l(n,2,0,"edit",n.parent.context.$implicit.timesheetId);l(n,1,0,e)}),null)}function R(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Rb(2,null,[" "," "])),(l()(),t.xb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Rb(4,null,[" "," "])),(l()(),t.xb(5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Rb(6,null,[" "," "])),t.Nb(7,2),(l()(),t.xb(8,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(11,null,["",""])),(l()(),t.xb(12,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.xb(13,0,null,null,3,"button",[["class","btn btn-link btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,14).onClick()&&u),u}),null,null)),t.wb(14,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),t.Kb(15,2),(l()(),t.Rb(-1,null,["View"])),(l()(),t.mb(16777216,null,null,1,null,C)),t.wb(18,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=l(n,15,0,"view",n.context.$implicit.timesheetId);l(n,14,0,e),l(n,18,0,"Inprogress"===n.context.$implicit.status)}),(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.weekNumber),l(n,4,0,n.context.$implicit.versionNumber);var u=t.Sb(n,6,0,l(n,7,0,t.Jb(n.parent,0),n.context.$implicit.weekEndingIn,"yyyy-MM-dd"));l(n,6,0,u),l(n,10,0,e.colorStatus(n.context.$implicit.status)),l(n,11,0,n.context.$implicit.status)}))}function S(l){return t.Tb(0,[t.Lb(0,b.e,[t.x]),(l()(),t.xb(1,0,null,null,16,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"h3",[["class","display-4 mb-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Timesheet List"])),(l()(),t.xb(5,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,3,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.xb(7,0,null,null,2,"button",[["class","btn btn-primary my-2"],["routerLink","creation"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,8).onClick()&&u),u}),null,null)),t.wb(8,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),(l()(),t.Rb(-1,null,["Create"])),(l()(),t.xb(10,0,null,null,7,"p-table",[],null,null,null,c.f,c.c)),t.Ob(512,null,o.n,o.n,[]),t.wb(12,6012928,null,1,o.h,[t.m,t.D,o.n,t.h],{value:[0,"value"],columns:[1,"columns"]},null),t.Pb(603979776,1,{templates:1}),(l()(),t.mb(0,null,null,1,null,I)),t.wb(15,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,R)),t.wb(17,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,8,0,"creation"),l(n,12,0,e.timesheets,e.cols),l(n,15,0,"header"),l(n,17,0,"body")}),null)}var j=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"ngOnInit",value:function(){}}]),l}(),J=t.vb({encapsulation:0,styles:[[""]],data:{}});function P(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-list",[],null,null,null,S,k)),t.wb(1,114688,null,0,m,[w,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}var D=t.tb("app-timesheets",j,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheets",[],null,null,null,P,J)),t.wb(1,114688,null,0,j,[],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),N=e("YCg4"),E=e("y1st"),O=e("s7LF"),$=e("ienR"),Q=e("z/SZ"),W=function l(n,e,u,t){_classCallCheck(this,l),this.monday=0,this.tuesday=0,this.wednesday=0,this.thursday=0,this.friday=0,this.saturday=0,this.sunday=0,this.projectId=u,this.timesheetVersionNumber=e,this.workPackageId=t,this.timesheetId=n},F=function(){function l(){_classCallCheck(this,l),this.apiReady=!1,this.validationError=!1,this.dataReady=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.dataReady=!0,this.days=[{header:"Sat",value:"saturday"},{header:"Sun",value:"sunday"},{header:"Mon",value:"monday"},{header:"Tue",value:"tuesday"},{header:"Wed",value:"wednesday"},{header:"Thu",value:"thursday"},{header:"Fri",value:"friday"}]}},{key:"validate",value:function(l){return l<0||l>=24?(this.validationError=!0,!0):l%.25!=0&&(this.validationError=!0,!0)}},{key:"rowTotal",value:function(l){var n=0;return this.days.forEach((function(e){return n+=+l[e.value]})),n}},{key:"colTotal",value:function(l){var n=0;return this.timesheet.timesheetRows.forEach((function(e){return n+=+e[l]})),n}},{key:"timesheetTotal",value:function(){var l=this,n=0;return this.timesheet.timesheetRows.forEach((function(e){l.days.forEach((function(l){return n+=+e[l.value]}))})),n}},{key:"onEditComplete",value:function(l){}},{key:"onEditInit",value:function(l){console.log(l),l.column.editable=!1}},{key:"addRow",value:function(l){this.timesheet.timesheetRows.push(new W(this.timesheet.timesheetId,this.timesheet.versionNumber,1,1))}},{key:"deleteRow",value:function(l){console.log(l),this.timesheet.timesheetRows=this.timesheet.timesheetRows.filter((function(n){if(n.workPackageId!=l.workPackageId&&n.projectId!=l.projectId)return n}))}},{key:"populateProject",value:function(){var l=[{label:"---",value:0}];return this.projectWp?(this.projectWp.forEach((function(n){var e={label:n.projectName,value:n.projectId};0===l.filter((function(l){return l.value==e.value})).length&&l.push(e)})),l):l}},{key:"populateWps",value:function(l){var n=[{label:"---",value:0,projectId:0}];return this.projectWp?null==l||0==l?n:(this.projectWp.forEach((function(e){var u={label:e.wpCode,value:e.wpId,projectId:e.projectId};u.projectId==l&&n.push(u)})),n):n}},{key:"getWeek",value:function(l){var n=new Date,e=new Date(n.getFullYear(),0,1),u=(l.getTime()-e.getTime())/864e5;return Math.ceil((u+e.getDay()+1)/7)}},{key:"dateFormater",value:function(l){return"".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate())}},{key:"stringToDate",value:function(l){var n=new Date(l);return console.log(n),n}},{key:"onValueChange",value:function(l){console.log(l),this.timesheet.weekEnding=this.dateFormater(l),this.timesheet.weekNumber=this.getWeek(l)}},{key:"getOvertime",value:function(){var l=this.timesheetTotal();return l-40>0?l-40:0}}]),l}(),M=t.vb({encapsulation:0,styles:[[".error[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;color:red;font-weight:700}"]],data:{}});function _(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"button",[["class","btn btn-outline-primary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addRow(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Add Row"]))],null,null)}function H(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit.header)}))}function L(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"th",[["style","width:170px"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Project Name"])),(l()(),t.xb(3,0,null,null,1,"th",[["style","width:170px"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["W.P. Name"])),(l()(),t.xb(5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Total"])),(l()(),t.mb(16777216,null,null,1,null,H)),t.wb(8,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(9,0,null,null,0,"th",[],null,null,null,null,null))],(function(l,n){l(n,8,0,n.component.days)}),null)}function U(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,7,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.projectId=e)&&u),u}),N.b,N.a)),t.wb(1,13877248,null,1,E.a,[t.m,t.I,t.h,t.D],{style:[0,"style"],options:[1,"options"]},null),t.Pb(603979776,2,{templates:1}),t.Mb(3,{width:0}),t.Ob(1024,null,O.j,(function(l){return[l]}),[E.a]),t.wb(5,671744,null,0,O.o,[[8,null],[8,null],[8,null],[6,O.j]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,O.k,null,[O.o]),t.wb(7,16384,null,0,O.l,[[4,O.k]],null,null)],(function(l,n){var e=n.component,u=l(n,3,0,"170px");l(n,1,0,u,e.populateProject()),l(n,5,0,n.parent.context.$implicit.projectId)}),(function(l,n){l(n,0,0,t.Jb(n,1).filled,t.Jb(n,1).focused,t.Jb(n,7).ngClassUntouched,t.Jb(n,7).ngClassTouched,t.Jb(n,7).ngClassPristine,t.Jb(n,7).ngClassDirty,t.Jb(n,7).ngClassValid,t.Jb(n,7).ngClassInvalid,t.Jb(n,7).ngClassPending)}))}function V(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.projectId)}))}function A(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,7,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.workPackageId=e)&&u),u}),N.b,N.a)),t.wb(1,13877248,null,1,E.a,[t.m,t.I,t.h,t.D],{style:[0,"style"],options:[1,"options"]},null),t.Pb(603979776,3,{templates:1}),t.Mb(3,{width:0}),t.Ob(1024,null,O.j,(function(l){return[l]}),[E.a]),t.wb(5,671744,null,0,O.o,[[8,null],[8,null],[8,null],[6,O.j]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,O.k,null,[O.o]),t.wb(7,16384,null,0,O.l,[[4,O.k]],null,null)],(function(l,n){var e=n.component,u=l(n,3,0,"170px");l(n,1,0,u,e.populateWps(n.parent.context.$implicit.projectId)),l(n,5,0,n.parent.context.$implicit.workPackageId)}),(function(l,n){l(n,0,0,t.Jb(n,1).filled,t.Jb(n,1).focused,t.Jb(n,7).ngClassUntouched,t.Jb(n,7).ngClassTouched,t.Jb(n,7).ngClassPristine,t.Jb(n,7).ngClassDirty,t.Jb(n,7).ngClassValid,t.Jb(n,7).ngClassInvalid,t.Jb(n,7).ngClassPending)}))}function Y(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.workPackageId)}))}function K(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""])),t.Nb(2,1)],null,(function(l,n){var e=n.component,u=t.Sb(n,1,0,l(n,2,0,t.Jb(n.parent.parent,1),e.rowTotal(n.parent.context.$implicit)));l(n,1,0,u)}))}function B(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,5,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l,1)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Jb(l,1)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.parent.context.$implicit[l.parent.context.$implicit.value]=e)&&u),u}),null,null)),t.wb(1,16384,null,0,O.d,[t.I,t.m,[2,O.a]],null,null),t.Ob(1024,null,O.j,(function(l){return[l]}),[O.d]),t.wb(3,671744,null,0,O.o,[[8,null],[8,null],[8,null],[6,O.j]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,O.k,null,[O.o]),t.wb(5,16384,null,0,O.l,[[4,O.k]],null,null)],(function(l,n){l(n,3,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.value])}),(function(l,n){l(n,0,0,t.Jb(n,5).ngClassUntouched,t.Jb(n,5).ngClassTouched,t.Jb(n,5).ngClassPristine,t.Jb(n,5).ngClassDirty,t.Jb(n,5).ngClassValid,t.Jb(n,5).ngClassInvalid,t.Jb(n,5).ngClassPending)}))}function G(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[["class","error"]],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.parent.context.$implicit[n.parent.parent.context.$implicit.value])}))}function q(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[["class","pass"]],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.parent.context.$implicit[n.parent.parent.context.$implicit.value])}))}function z(l){return t.Tb(0,[(l()(),t.mb(16777216,null,null,1,null,G)),t.wb(1,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,q)),t.wb(3,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.validate(n.parent.parent.context.$implicit[n.parent.context.$implicit.value])),l(n,3,0,!e.validate(n.parent.parent.context.$implicit[n.parent.context.$implicit.value]))}),null)}function X(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,8,"td",[],null,[[null,"click"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,1).onClick(e)&&u),"keydown"===n&&(u=!1!==t.Jb(l,1).onKeyDown(e)&&u),u}),null,null)),t.wb(1,4210688,null,0,o.b,[o.h,t.m,t.D],{data:[0,"data"]},null),(l()(),t.xb(2,0,null,null,6,"p-cellEditor",[],null,null,null,c.d,c.a)),t.wb(3,1097728,null,1,o.a,[o.h,[2,o.b],[2,o.c]],null,null),t.Pb(603979776,5,{templates:1}),(l()(),t.mb(0,null,null,1,null,B)),t.wb(6,16384,[[5,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,z)),t.wb(8,16384,[[5,4]],0,d.a,[t.Q],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,1,0,"create"==e.mode||"update"==e.mode?"":null),l(n,6,0,"input"),l(n,8,0,"output")}),null)}function Z(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"button",[["class","btn btn-link"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteRow(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t.xb(1,0,null,null,1,"i",[["class","material-icons text-danger"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["remove_circle_outline"]))],null,null)}function ll(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,U)),t.wb(3,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,V)),t.wb(5,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(6,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,A)),t.wb(8,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,Y)),t.wb(10,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(11,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,4,"p-cellEditor",[],null,null,null,c.d,c.a)),t.wb(13,1097728,null,1,o.a,[o.h,[2,o.b],[2,o.c]],null,null),t.Pb(603979776,4,{templates:1}),(l()(),t.mb(0,null,null,1,null,K)),t.wb(16,16384,[[4,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(16777216,null,null,1,null,X)),t.wb(18,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(19,0,null,null,2,"td",[["class","p-1"]],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,Z)),t.wb(21,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"create"==e.mode||"update"==e.mode),l(n,5,0,"read"==e.mode),l(n,8,0,"create"==e.mode||"update"==e.mode),l(n,10,0,"read"==e.mode),l(n,16,0,"output"),l(n,18,0,e.days),l(n,21,0,"create"==e.mode||"update"==e.mode)}),null)}function nl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.colTotal(n.context.$implicit.value))}))}function el(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,13,"td",[["colspan","2"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,12,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,4,"div",[["class","input-group "]],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Flex"])),(l()(),t.xb(8,0,null,null,0,"input",[["class","form-control"],["id","weekNum"],["type","text"]],[[8,"value",0],[8,"readOnly",0]],null,null,null,null)),(l()(),t.xb(9,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,4,"div",[["class","input-group "]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Overtime"])),(l()(),t.xb(14,0,null,null,0,"input",[["class","form-control"],["id","weekNum"],["type","text"]],[[8,"value",0],[8,"readOnly",0]],null,null,null,null)),(l()(),t.xb(15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Rb(16,null,["",""])),(l()(),t.mb(16777216,null,null,1,null,nl)),t.wb(18,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(19,0,null,null,0,"td",[],null,null,null,null,null))],(function(l,n){l(n,18,0,n.component.days)}),(function(l,n){var e=n.component;l(n,8,0,"question",!0),l(n,14,0,e.getOvertime(),!0),l(n,16,0,e.timesheetTotal())}))}function ul(l){return t.Tb(0,[t.Lb(0,b.e,[t.x]),t.Lb(0,b.f,[t.x]),(l()(),t.xb(2,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Jb(l,4).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Jb(l,4).onReset()&&u),u}),null,null)),t.wb(3,16384,null,0,O.y,[],null,null),t.wb(4,4210688,null,0,O.n,[[8,null],[8,null]],null,null),t.Ob(2048,null,O.c,null,[O.n]),t.wb(6,16384,null,0,O.m,[[4,O.c]],null,null),(l()(),t.xb(7,0,null,null,27,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,4,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Version"])),(l()(),t.xb(13,0,null,null,0,"input",[["class","form-control"],["id","weekNum"],["type","text"]],[[8,"value",0],[8,"readOnly",0]],null,null,null,null)),(l()(),t.xb(14,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.xb(15,0,null,null,4,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(l()(),t.xb(16,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(17,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Week Number"])),(l()(),t.xb(19,0,null,null,0,"input",[["class","form-control"],["id","weekNum"],["type","text"]],[[8,"value",0],[8,"readOnly",0]],null,null,null,null)),(l()(),t.xb(20,0,null,null,12,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t.xb(21,0,null,null,11,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(l()(),t.xb(22,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(23,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Week Ending"])),(l()(),t.xb(25,16777216,null,null,7,"input",[["bsDatepicker",""],["class","form-control"],["id","weekEnd"],["placeholder","Datepicker"],["type","text"]],[[8,"value",0],[8,"readOnly",0]],[[null,"bsValueChange"],[null,"change"],[null,"keyup.esc"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t.Jb(l,31).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t.Jb(l,31).hide()&&u),"blur"===n&&(u=!1!==t.Jb(l,31).onBlur()&&u),"bsValueChange"===n&&(u=!1!==i.onValueChange(e)&&u),u}),null,null)),t.Ob(5120,null,O.j,(function(l){return[l]}),[$.f]),t.Ob(5120,null,O.i,(function(l){return[l]}),[$.f]),t.wb(28,737280,null,0,$.c,[$.a,t.m,t.I,t.T,Q.a],{outsideClick:[0,"outsideClick"],bsConfig:[1,"bsConfig"],isDisabled:[2,"isDisabled"],daysDisabled:[3,"daysDisabled"]},{bsValueChange:"bsValueChange"}),t.Mb(29,{selectWeek:0,dateInputFormat:1}),t.Kb(30,6),t.wb(31,16384,null,0,$.f,[$.c,$.l,t.I,t.m,t.h],null,null),t.Nb(32,2),(l()(),t.mb(16777216,null,null,1,null,_)),t.wb(34,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(35,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.xb(36,0,null,null,10,"div",[["class","my-3"]],null,null,null,null,null)),(l()(),t.xb(37,0,null,null,9,"p-table",[],null,[[null,"onEditComplete"]],(function(l,n,e){var u=!0;return"onEditComplete"===n&&(u=!1!==l.component.onEditComplete(e)&&u),u}),c.f,c.c)),t.Ob(512,null,o.n,o.n,[]),t.wb(39,6012928,null,1,o.h,[t.m,t.D,o.n,t.h],{value:[0,"value"]},{onEditComplete:"onEditComplete"}),t.Pb(603979776,1,{templates:1}),(l()(),t.mb(0,null,null,1,null,L)),t.wb(42,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,ll)),t.wb(44,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,el)),t.wb(46,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null)],(function(l,n){var e=n.component,u=l(n,29,0,!0,"YYYY-MM-DD"),t="read"==e.mode||"update"==e.mode,i=l(n,30,0,6,2,4,3,1,0);l(n,28,0,!0,u,t,i),l(n,34,0,"create"==e.mode||"update"==e.mode),l(n,39,0,e.timesheet.timesheetRows),l(n,42,0,"header"),l(n,44,0,"body"),l(n,46,0,"footer")}),(function(l,n){var e=n.component;l(n,2,0,t.Jb(n,6).ngClassUntouched,t.Jb(n,6).ngClassTouched,t.Jb(n,6).ngClassPristine,t.Jb(n,6).ngClassDirty,t.Jb(n,6).ngClassValid,t.Jb(n,6).ngClassInvalid,t.Jb(n,6).ngClassPending),l(n,13,0,e.timesheet.versionNumber,!0),l(n,19,0,e.timesheet.weekNumber,!0);var u=t.Bb(1,"",t.Sb(n,25,0,l(n,32,0,t.Jb(n,0),e.timesheet.weekEnding,"yyyy-MM-dd")),"");l(n,25,0,u,"read"==e.mode||"update"==e.mode)}))}var tl=function l(){_classCallCheck(this,l),this.timesheetRows=[],this.signature=null,this.comment=""},il=function(l){return l.approved="Approved",l.rejected="Rejected",l.pending="Pending",l.inProgress="inprogress",l}({}),al=e("USBk"),rl=function(){function l(n,e,u){_classCallCheck(this,l),this.timesheetService=n,this.projectService=e,this.authenticationService=u,this.dataReady=!1,this.mode=al.a.Create,this.timesheet=null,this.currentUser=this.authenticationService.currentUserValue}return _createClass(l,[{key:"ngOnInit",value:function(){this.setEmptyTimesheetData(),this.prepareprojectWp()}},{key:"onSubmit",value:function(l){this.timesheet.status=il.pending,this.timesheetService.postTimesheet(this.timesheet).subscribe()}},{key:"onSave",value:function(l){console.log("post timesheet:"),console.log(JSON.stringify(this.timesheet)),this.timesheetService.postTimesheet(this.timesheet).subscribe()}},{key:"setEmptyTimesheetData",value:function(){var l=this;this.timesheetService.getAvaliableTimesheetId().subscribe((function(n){var e=new tl,u=new Date,t=5-u.getDay();u.setDate(u.getDate()+t),e.weekEnding=l.dateFormater(u),e.weekNumber=l.getWeek(u),console.log(n),e.timesheetId=n.id,e.employeeId=l.currentUser.employeeId,e.versionNumber=1,e.status=il.inProgress;for(var i=0;i<5;i++)e.timesheetRows.push(new W(e.timesheetId,e.versionNumber,0,0));l.timesheet=e,l.dataReady=!0}))}},{key:"prepareprojectWp",value:function(){var l=this;this.projectService.getProjectWpDropdown(this.currentUser.employeeId).subscribe((function(n){l.projectWp=[],n.forEach((function(n){n.workPackages.forEach((function(e){l.projectWp.push({projectId:n.projectId,projectName:n.projectName,wpId:e.workPackageId,wpCode:e.workPackageCode})}))}))}))}},{key:"getWeek",value:function(l){var n=new Date,e=new Date(n.getFullYear(),0,1),u=(l.getTime()-e.getTime())/864e5;return Math.ceil((u+e.getDay()+1)/7)}},{key:"dateFormater",value:function(l){return"".concat(l.getFullYear(),"-").concat(("00"+(l.getMonth()+1)).slice(-2),"-").concat(("00"+(l.getDate()+1)).slice(-2))}},{key:"stringToDate",value:function(l){var n=new Date(l);return console.log(n),n}}]),l}(),sl=e("zPXJ"),ol=t.vb({encapsulation:0,styles:[[""]],data:{}});function cl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,12,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,11,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"h3",[["class","display-4 mb-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Create Timesheet"])),(l()(),t.xb(4,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,1,"shared-timesheet",[],null,null,null,ul,M)),t.wb(6,114688,null,0,F,[],{mode:[0,"mode"],timesheet:[1,"timesheet"],projectWp:[2,"projectWp"]},null),(l()(),t.xb(7,0,null,null,0,"div",[["class","dropdown-divider my-3"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,4,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,1,"button",[["class","btn btn-primary  m-1 px-3"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSave(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Save"])),(l()(),t.xb(11,0,null,null,1,"button",[["class","btn btn-primary m-1 px-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSubmit(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Submit"]))],(function(l,n){var e=n.component;l(n,6,0,e.mode,e.timesheet,e.projectWp)}),null)}function bl(l){return t.Tb(0,[(l()(),t.mb(16777216,null,null,1,null,cl)),t.wb(1,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.dataReady)}),null)}var pl=t.tb("app-timesheet-creation",rl,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-creation",[],null,null,null,bl,ol)),t.wb(1,114688,null,0,rl,[w,sl.a,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),dl=function(){function l(n,e){_classCallCheck(this,l),this.route=n,this.timesheetService=e,this.mode=al.a.Read}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.route.paramMap.subscribe((function(n){var e=n.get("timesheetId");console.log("current timesheet id is  ".concat(e)),l.timesheetService.getTimesheet(e).subscribe((function(n){return l.timesheet=n}))}))}},{key:"colorStatus",value:function(l){switch(l){case"Approved":return"badge badge-pill badge-success";case"Rejected":return"badge badge-pill badge-danger";case"Pending":return"badge badge-pill badge-warning";case"Inprogress":return"badge badge-pill badge-info";default:return"badge badge-pill badge-dark"}}}]),l}(),ml=t.vb({encapsulation:0,styles:[[""]],data:{}});function hl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,0,0,e.colorStatus(e.timesheet.status)),l(n,1,0,e.timesheet.status)}))}function gl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,7,"div",[["class","alert alert-danger alert-dismissible fade show"],["role","alert"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"h4",[["class","alert-heading"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Rejected!"])),(l()(),t.xb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["This timesheet is rejected based on the following reason. Please click Edit button to modifty this timesheet."])),(l()(),t.xb(5,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,1,"p",[["class","mb-0"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Whenever you need to, be sure to use margin utilities to keep things nice and tidy."]))],null,null)}function fl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"shared-timesheet",[],null,null,null,ul,M)),t.wb(1,114688,null,0,F,[],{mode:[0,"mode"],timesheet:[1,"timesheet"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.mode,e.timesheet)}),null)}function vl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"button",[["class","btn btn-primary m-1 px-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,1).onClick()&&u),u}),null,null)),t.wb(1,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),t.Kb(2,2),(l()(),t.Rb(-1,null,[" Create New Version"]))],(function(l,n){var e=l(n,2,0,"/content/timesheets/editRejectedTimesheet",n.component.timesheet.timesheetId);l(n,1,0,e)}),null)}function xl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,17,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,4,"h3",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"span",[["class","display-4 mb-3 mr-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Timesheet Detail"])),(l()(),t.mb(16777216,null,null,1,null,hl)),t.wb(5,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,gl)),t.wb(7,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(8,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,fl)),t.wb(10,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(11,0,null,null,0,"div",[["class","dropdown-divider my-3"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,5,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,vl)),t.wb(14,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(15,0,null,null,2,"button",[["class","btn btn-secondary  m-1 px-3"],["routerLink","/content/timesheets"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,16).onClick()&&u),u}),null,null)),t.wb(16,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),(l()(),t.Rb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,5,0,e.timesheet),l(n,7,0,"Rejected"==e.timesheet.status),l(n,10,0,e.timesheet),l(n,14,0,"Rejected"==e.timesheet.status),l(n,16,0,"/content/timesheets")}),null)}function wl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,xl)),t.wb(2,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.timesheet)}),null)}var yl=t.tb("app-timesheet-view",dl,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-view",[],null,null,null,wl,ml)),t.wb(1,114688,null,0,dl,[p.a,w],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),kl=function(){function l(n,e,u,t){_classCallCheck(this,l),this.route=n,this.timesheetService=e,this.projectService=u,this.authenticationService=t,this.mode=al.a.Update,this.timesheet=null,this.projectDropdown=null,this.employeeWPs=null,this.currentUser=this.authenticationService.currentUserValue}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.route.paramMap.subscribe((function(n){var e=n.get("timesheetId");console.log("current timesheet id is  ".concat(e)),l.timesheetService.getTimesheet(e).subscribe((function(n){return l.timesheet=n}))})),this.prepareprojectWp()}},{key:"onSubmit",value:function(l){this.timesheet.status=il.pending,this.timesheetService.postTimesheet(this.timesheet).subscribe()}},{key:"onSave",value:function(l){console.log("post timesheet:"),console.log(JSON.stringify(this.timesheet)),this.timesheetService.postTimesheet(this.timesheet).subscribe()}},{key:"prepareprojectWp",value:function(){var l=this;this.projectService.getProjectWpDropdown(this.currentUser.employeeId).subscribe((function(n){l.projectWp=[],n.forEach((function(n){n.workPackages.forEach((function(e){l.projectWp.push({projectId:n.projectId,projectName:n.projectName,wpId:e.workPackageId,wpCode:e.workPackageCode})}))}))}))}},{key:"colorStatus",value:function(l){switch(l){case"Approved":return"badge badge-pill badge-success";case"Rejected":return"badge badge-pill badge-danger";case"Pending":return"badge badge-pill badge-warning";case"Inprogress":return"badge badge-pill badge-info";default:return"badge badge-pill badge-dark"}}},{key:"getWeek",value:function(l){var n=new Date,e=new Date(n.getFullYear(),0,1),u=(l.getTime()-e.getTime())/864e5;return Math.ceil((u+e.getDay()+1)/7)}},{key:"dateFormater",value:function(l){return"".concat(l.getFullYear(),"-").concat(("00"+(l.getMonth()+1)).slice(-2),"-").concat(("00"+(l.getDate()+1)).slice(-2))}},{key:"stringToDate",value:function(l){var n=new Date(l);return console.log(n),n}}]),l}(),Tl=t.vb({encapsulation:0,styles:[[""]],data:{}});function Il(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,0,0,e.colorStatus(e.timesheet.status)),l(n,1,0,e.timesheet.status)}))}function Cl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,15,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,4,"h3",[],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"span",[["class","display-4 mb-3 mr-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Edit Timesheet"])),(l()(),t.mb(16777216,null,null,1,null,Il)),t.wb(6,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(7,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,1,"shared-timesheet",[],null,null,null,ul,M)),t.wb(9,114688,null,0,F,[],{mode:[0,"mode"],timesheet:[1,"timesheet"],projectWp:[2,"projectWp"]},null),(l()(),t.xb(10,0,null,null,0,"div",[["class","dropdown-divider my-3"]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,4,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,1,"button",[["class","btn btn-primary  m-1 px-3"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSave(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Save"])),(l()(),t.xb(14,0,null,null,1,"button",[["class","btn btn-primary m-1 px-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSubmit(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Submit"]))],(function(l,n){var e=n.component;l(n,6,0,e.timesheet),l(n,9,0,e.mode,e.timesheet,e.projectWp)}),null)}function Rl(l){return t.Tb(0,[(l()(),t.mb(16777216,null,null,1,null,Cl)),t.wb(1,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.timesheet)}),null)}var Sl=t.tb("app-timesheet-edit",kl,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-edit",[],null,null,null,Rl,Tl)),t.wb(1,114688,null,0,kl,[p.a,w,sl.a,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),jl=function(){function l(n,e,u,t){_classCallCheck(this,l),this.route=n,this.timesheetService=e,this.projectService=u,this.authenticationService=t,this.mode=al.a.Update,this.timesheet=null,this.projectDropdown=null,this.employeeWPs=null,this.currentUser=this.authenticationService.currentUserValue}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.route.paramMap.subscribe((function(n){var e=n.get("timesheetId");console.log("current timesheet id is  ".concat(e)),l.timesheetService.getTimesheet(e).subscribe((function(n){return l.timesheet=n}))})),this.prepareprojectWp()}},{key:"onSubmit",value:function(l){this.timesheet.versionNumber+=1,this.timesheet.status=il.pending,this.timesheetService.putTimesheet(this.timesheet).subscribe((function(l){}))}},{key:"onSave",value:function(l){this.timesheet.versionNumber+=1,this.timesheet.status=il.inProgress,console.log("post timesheet:"),console.log(JSON.stringify(this.timesheet)),this.timesheetService.putTimesheet(this.timesheet).subscribe((function(l){}))}},{key:"prepareprojectWp",value:function(){var l=this;this.projectService.getProjectWpDropdown(this.currentUser.employeeId).subscribe((function(n){l.projectWp=[],n.forEach((function(n){n.workPackages.forEach((function(e){l.projectWp.push({projectId:n.projectId,projectName:n.projectName,wpId:e.workPackageId,wpCode:e.workPackageCode})}))}))}))}},{key:"colorStatus",value:function(l){switch(l){case"Approved":return"badge badge-pill badge-success";case"Rejected":return"badge badge-pill badge-danger";case"Pending":return"badge badge-pill badge-warning";case"Inprogress":return"badge badge-pill badge-info";default:return"badge badge-pill badge-dark"}}},{key:"getWeek",value:function(l){var n=new Date,e=new Date(n.getFullYear(),0,1),u=(l.getTime()-e.getTime())/864e5;return Math.ceil((u+e.getDay()+1)/7)}},{key:"dateFormater",value:function(l){return"".concat(l.getFullYear(),"-").concat(("00"+(l.getMonth()+1)).slice(-2),"-").concat(("00"+(l.getDate()+1)).slice(-2))}},{key:"stringToDate",value:function(l){var n=new Date(l);return console.log(n),n}}]),l}(),Jl=t.vb({encapsulation:0,styles:[[""]],data:{}});function Pl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,0,0,e.colorStatus(e.timesheet.status)),l(n,1,0,e.timesheet.status)}))}function Dl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,17,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,16,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,4,"h3",[],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"span",[["class","display-4 mb-3 mr-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Edit Rejected Timesheet"])),(l()(),t.mb(16777216,null,null,1,null,Pl)),t.wb(6,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(7,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Submiting or saving this edited timesheet will creation this timesheet as a new version."])),(l()(),t.xb(9,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,1,"shared-timesheet",[],null,null,null,ul,M)),t.wb(11,114688,null,0,F,[],{mode:[0,"mode"],timesheet:[1,"timesheet"],projectWp:[2,"projectWp"]},null),(l()(),t.xb(12,0,null,null,0,"div",[["class","dropdown-divider my-3"]],null,null,null,null,null)),(l()(),t.xb(13,0,null,null,4,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,1,"button",[["class","btn btn-primary  m-1 px-3"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSave(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Save"])),(l()(),t.xb(16,0,null,null,1,"button",[["class","btn btn-primary m-1 px-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSubmit(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Submit"]))],(function(l,n){var e=n.component;l(n,6,0,e.timesheet),l(n,11,0,e.mode,e.timesheet,e.projectWp)}),null)}function Nl(l){return t.Tb(0,[(l()(),t.mb(16777216,null,null,1,null,Dl)),t.wb(1,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.timesheet)}),null)}var El=t.tb("app-timesheet-edit-version",jl,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-edit-version",[],null,null,null,Nl,Jl)),t.wb(1,114688,null,0,jl,[p.a,w,sl.a,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),Ol=function(){function l(n,e){_classCallCheck(this,l),this.timesheetService=n,this.authenticationService=e,this.displayTimesheet=[]}return _createClass(l,[{key:"ngOnInit",value:function(){this.cols=[{field:"empName",header:"Employee"},{field:"supervisor",header:"Supervisor"},{field:"approver",header:"Approver"},{field:"weekNumber",header:"Week"},{field:"versionNumber",header:"Version"},{field:"weekEnding",header:"week Ending"},{field:"status",header:"Status"}],this.populateTimesheets()}},{key:"populateTimesheets",value:function(){var l=this;this.timesheetService.getPendingTimesheets(this.authenticationService.currentUserValue.employeeId).subscribe((function(n){n.forEach((function(n){l.displayTimesheet.push({empName:"".concat(n.owner.empFirstName," ").concat(n.owner.empLastName),approver:"".concat(n.owner.timesheetApprover.empFirstName," ").concat(n.owner.timesheetApprover.empLastName),supervisor:"".concat(n.owner.supervisor.empFirstName," ").concat(n.owner.supervisor.empLastName),weekNumber:n.weekNumber,versionNumber:n.versionNumber,weekEnding:n.weekEnding,status:n.status,timesheetId:n.timesheetId})})),console.log(l.displayTimesheet)}))}},{key:"colorStatus",value:function(l){switch(l){case"Approved":return"badge badge-success";case"Rejected":return"badge badge-danger";case"Pending":return"badge badge-warning";case"Inprogress":return"badge badge-info"}}}]),l}(),$l=t.vb({encapsulation:0,styles:[[""]],data:{}});function Ql(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"div",[["style","text-align: right"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,0,"i",[["class","fa fa-search"],["style","margin:4px 4px 0 0"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,0,"input",[["pInputText",""],["placeholder","Global Filter"],["size","50"],["style","width:auto"],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent,6).filterGlobal(e.target.value,"contains")&&u),u}),null,null))],null,null)}function Wl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.header)}))}function Fl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Ml(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function _l(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Hl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Ll(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Ul(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Vl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["pInputText",""],["type","text"]],null,[[null,"input"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Jb(l.parent.parent.parent,6).filter(e.target.value,l.parent.context.$implicit.field,"contains")&&u),u}),null,null))],null,null)}function Al(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,15,"th",[],null,null,null,null,null)),t.wb(1,16384,null,0,b.r,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.mb(16777216,null,null,1,null,Fl)),t.wb(3,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,Ml)),t.wb(5,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,_l)),t.wb(7,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,Hl)),t.wb(9,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,Ll)),t.wb(11,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,Ul)),t.wb(13,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.mb(16777216,null,null,1,null,Vl)),t.wb(15,278528,null,0,b.s,[t.T,t.Q,b.r],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(l,n){l(n,1,0,n.context.$implicit.field),l(n,3,0,"empName"),l(n,5,0,"supervisor"),l(n,7,0,"approver"),l(n,9,0,"weekNumber"),l(n,11,0,"versionNumber"),l(n,13,0,"weekEnding"),l(n,15,0,"status")}),null)}function Yl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,Wl)),t.wb(2,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(3,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,Al)),t.wb(6,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(7,0,null,null,0,"th",[],null,null,null,null,null))],(function(l,n){l(n,2,0,n.context.$implicit),l(n,6,0,n.context.$implicit)}),null)}function Kl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.field])}))}function Bl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(2,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.colorStatus(n.parent.parent.context.$implicit[n.parent.context.$implicit.field])),l(n,2,0,n.parent.parent.context.$implicit.status)}))}function Gl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,Kl)),t.wb(2,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,Bl)),t.wb(4,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"status"!==n.context.$implicit.field),l(n,4,0,"status"===n.context.$implicit.field)}),null)}function ql(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,8,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,1).onClick(e)&&u),"touchend"===n&&(u=!1!==t.Jb(l,1).onTouchEnd(e)&&u),"keydown"===n&&(u=!1!==t.Jb(l,1).onKeyDown(e)&&u),u}),null,null)),t.wb(1,212992,null,0,o.e,[o.h,o.n],{data:[0,"data"]},null),(l()(),t.mb(16777216,null,null,1,null,Gl)),t.wb(3,278528,null,0,b.m,[t.T,t.Q,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(4,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,3,"button",[["class","btn btn-link btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Jb(l,6).onClick()&&u),u}),null,null)),t.wb(6,16384,null,0,p.n,[p.m,p.a,[8,null],t.I,t.m],{routerLink:[0,"routerLink"]},null),t.Kb(7,2),(l()(),t.Rb(-1,null,["View"]))],(function(l,n){l(n,1,0,n.context.$implicit),l(n,3,0,n.context.columns);var e=l(n,7,0,"/content/timesheets/approver/view/",n.context.$implicit.timesheetId);l(n,6,0,e)}),(function(l,n){l(n,0,0,t.Jb(n,1).isEnabled(),t.Jb(n,1).selected,t.Jb(n,1).isEnabled()?0:void 0)}))}function zl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,13,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"h3",[["class","display-4"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Pending Timesheet List"])),(l()(),t.xb(4,0,null,null,9,"p-table",[],null,null,null,c.f,c.c)),t.Ob(512,null,o.n,o.n,[]),t.wb(6,6012928,[["dt",4]],1,o.h,[t.m,t.D,o.n,t.h],{paginator:[0,"paginator"],value:[1,"value"],columns:[2,"columns"],rows:[3,"rows"]},null),t.Pb(603979776,1,{templates:1}),(l()(),t.mb(0,null,null,1,null,Ql)),t.wb(9,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,Yl)),t.wb(11,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null),(l()(),t.mb(0,null,null,1,null,ql)),t.wb(13,16384,[[1,4]],0,d.a,[t.Q],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,6,0,!0,e.displayTimesheet,e.cols,10),l(n,9,0,"caption"),l(n,11,0,"header"),l(n,13,0,"body")}),null)}var Xl=t.tb("app-timesheet-approver-view-list",Ol,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-approver-view-list",[],null,null,null,zl,$l)),t.wb(1,114688,null,0,Ol,[w,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),Zl=function(){function l(n,e){_classCallCheck(this,l),this.route=n,this.timesheetService=e,this.mode=al.a.Read,this.rapidPageValue="323djo"}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.route.paramMap.subscribe((function(n){var e=n.get("timesheetId");console.log("current timesheet id is  ".concat(e)),l.timesheetService.getTimesheet(e).subscribe((function(n){return l.timesheet=n}))}))}},{key:"onTextareaChange",value:function(l){try{this.timesheet.comment=l.target.value}catch(l){console.info("could not set textarea-value")}}},{key:"colorStatus",value:function(l){switch(l=l.toLowerCase()){case"approved":return"badge badge-pill badge-success";case"rejected":return"badge badge-pill badge-danger";case"pending":return"badge badge-pill badge-warning";case"inprogress":return"badge badge-pill badge-info";default:return"badge badge-pill badge-dark"}}},{key:"onReject",value:function(l){var n=this;this.timesheet.status=il.rejected,this.timesheetService.putTimesheet(this.timesheet).subscribe((function(l){return console.log(n.timesheet)}))}},{key:"onApprove",value:function(l){var n=this;this.timesheet.status=il.approved,this.timesheetService.putTimesheet(this.timesheet).subscribe((function(l){return console.log(n.timesheet)}))}}]),l}(),ln=t.vb({encapsulation:0,styles:[[""]],data:{}});function nn(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,0,0,e.colorStatus(e.timesheet.status)),l(n,1,0,e.timesheet.status)}))}function en(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"shared-timesheet",[],null,null,null,ul,M)),t.wb(1,114688,null,0,F,[],{mode:[0,"mode"],timesheet:[1,"timesheet"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.mode,e.timesheet)}),null)}function un(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"textarea",[["aria-label","With textarea"],["class","form-control"]],null,[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.onTextareaChange(e)&&u),u}),null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.timesheet.comment)}))}function tn(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,25,"div",[["class","card mx-1"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,24,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,4,"h3",[],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"span",[["class","display-4 mb-3 mr-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Pending Detail"])),(l()(),t.mb(16777216,null,null,1,null,nn)),t.wb(6,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(7,0,null,null,0,"div",[["class","dropdown-divider "]],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,en)),t.wb(9,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(10,0,null,null,0,"div",[["class","dropdown-divider my-3"]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,1,"h5",[["class","my-3"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Approver View"])),(l()(),t.xb(13,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.xb(15,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comment"])),(l()(),t.mb(16777216,null,null,1,null,un)),t.wb(18,16384,null,0,b.n,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(19,0,null,null,6,"div",[["class","d-flex flex-row-reverse"]],null,null,null,null,null)),(l()(),t.xb(20,0,null,null,1,"button",[["class","btn btn-outline-success  m-1 px-3"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onApprove(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Approve"])),(l()(),t.xb(22,0,null,null,1,"button",[["class","btn btn-outline-danger m-1 px-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onReject(e)&&u),u}),null,null)),(l()(),t.Rb(-1,null,["Reject"])),(l()(),t.xb(24,0,null,null,1,"button",[["class","btn btn-primary m-1 px-2"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,6,0,e.timesheet),l(n,9,0,e.timesheet),l(n,18,0,e.timesheet)}),null)}var an=t.tb("app-timesheet-approver-view",Zl,(function(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-timesheet-approver-view",[],null,null,null,tn,ln)),t.wb(1,114688,null,0,Zl,[p.a,w],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),rn=e("2uy1"),sn=e("CNMR"),on=e("IP0z"),cn=e("/HVE"),bn=e("hOhj"),pn=e("GX/v"),dn=e("MY3+"),mn=e("m4cR"),hn=e("PCNd"),gn={breadcrumb:null},fn={breadcrumb:"Creation"},vn={breadcrumb:"Detail"},xn={breadcrumb:"Edit"},wn={breadcrumb:"Edit Rejected Timesheet"},yn={breadcrumb:"Pending List"},kn={breadcrumb:"Pending Detail"},Tn=function l(){_classCallCheck(this,l)};e.d(n,"TimesheetsModuleNgFactory",(function(){return In}));var In=t.ub(i,[],(function(l){return t.Gb([t.Hb(512,t.k,t.fb,[[8,[a.a,r.a,r.c,r.b,r.d,s.a,D,pl,yl,Sl,El,Xl,an]],[3,t.k],t.B]),t.Hb(4608,b.p,b.o,[t.x,[2,b.L]]),t.Hb(4608,O.v,O.v,[]),t.Hb(4608,rn.a,rn.a,[t.D,t.J,t.F]),t.Hb(4608,Q.a,Q.a,[t.k,t.D,t.t,rn.a,t.g]),t.Hb(4608,$.t,$.t,[]),t.Hb(4608,$.v,$.v,[]),t.Hb(4608,$.a,$.a,[]),t.Hb(4608,$.h,$.h,[]),t.Hb(4608,$.d,$.d,[]),t.Hb(4608,$.j,$.j,[]),t.Hb(4608,$.l,$.l,[]),t.Hb(4608,$.u,$.u,[$.v,$.l]),t.Hb(4608,sn.b,sn.b,[]),t.Hb(1073742336,b.c,b.c,[]),t.Hb(1073742336,O.u,O.u,[]),t.Hb(1073742336,O.h,O.h,[]),t.Hb(1073742336,d.b,d.b,[]),t.Hb(1073742336,on.a,on.a,[]),t.Hb(1073742336,cn.b,cn.b,[]),t.Hb(1073742336,bn.g,bn.g,[]),t.Hb(1073742336,pn.b,pn.b,[]),t.Hb(1073742336,E.c,E.c,[]),t.Hb(1073742336,dn.b,dn.b,[]),t.Hb(1073742336,o.l,o.l,[]),t.Hb(1073742336,p.q,p.q,[[2,p.v],[2,p.m]]),t.Hb(1073742336,mn.b,mn.b,[]),t.Hb(1073742336,$.g,$.g,[]),t.Hb(1073742336,sn.c,sn.c,[]),t.Hb(1073742336,hn.a,hn.a,[]),t.Hb(1073742336,Tn,Tn,[]),t.Hb(1073742336,i,i,[]),t.Hb(1024,p.k,(function(){return[[{path:"",component:j,data:gn},{path:"creation",component:rl,data:fn},{path:"view/:timesheetId",component:dl,data:vn},{path:"edit/:timesheetId",component:kl,data:xn},{path:"editRejectedTimesheet/:timesheetId",component:jl,data:wn},{path:"approver/view/list",component:Ol,data:yn},{path:"approver/view/:timesheetId",component:Zl,data:kn}]]}),[])])}))}}]);